version: '3.8'

services:
  photo-importer:
    container_name: photo-importer
    build:
      context: .
    restart: unless-stopped
    environment:
      - SD_CARD_MOUNT=/sd_card
      - DESTINATION_BASE=/pictures
      - SLEEP_INTERVAL=60
      - NTFY_TOPIC=
      - NTFY_SERVER=
    logging:
      driver: "json-file"
      options:
        max-size: "10m"
        max-file: "3"
    volumes:
      - ./logs:/app/logs
      - /media/pi:/sd_card
      - /home/pi/Pictures:/pictures
